{"remainingRequest":"D:\\Albion Tech\\LabSys\\Experiment-Teaching-System\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Albion Tech\\LabSys\\Experiment-Teaching-System\\Frontend\\src\\components\\admin\\UserManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Albion Tech\\LabSys\\Experiment-Teaching-System\\Frontend\\src\\components\\admin\\UserManage.vue","mtime":1638286484519},{"path":"D:\\Albion Tech\\LabSys\\Experiment-Teaching-System\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Albion Tech\\LabSys\\Experiment-Teaching-System\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Albion Tech\\LabSys\\Experiment-Teaching-System\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Albion Tech\\LabSys\\Experiment-Teaching-System\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQnVsa1JlZ2lzdHJhdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvYWRtaW4vQnVsa1JlZ2lzdHJhdGlvbicNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ1VzZXJNYW5hZ2UnLA0KICBjb21wb25lbnRzOiB7IEJ1bGtSZWdpc3RyYXRpb24gfSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vIHVzZXJz5pWw5o2u546w5Zyo5piv6Z2Z5oCB55qE77yM562J5ZCO56uv5bCx57uq5ZCO5YaN5pu/5o2iDQogICAgICAvLyB1c2VyczogW3sgaWQ6IDEsIHVzZXJuYW1lOiAnYWRtaW4nLCBuYW1lOiAn566h55CG5ZGYJywgcGhvbmU6ICcxMjMxMjMxMjMxMicsIGVtYWlsOiAnMTE2MjUyNDU3NUBxcS5jb20nLCBlbmFibGVkOiB0cnVlLCByb2xlczogW3sgaWQ6IDEsIG5hbWU6ICdzeXNBZG1pbicsIG5hbWVaaDogJ+ezu+e7n+euoeeQhuWRmCcsIGVuYWJsZWQ6IHRydWUsIHBlcm1zOiBudWxsLCBtZW51czogbnVsbCB9XSB9LCB7IGlkOiAyLCB1c2VybmFtZTogJ3Rlc3QnLCBuYW1lOiAn5rWL6K+VJywgcGhvbmU6ICcxMjMxMjMxMjMxMicsIGVtYWlsOiAnMTIzQDEyMy5jb20nLCBlbmFibGVkOiB0cnVlLCByb2xlczogW3sgaWQ6IDMsIG5hbWU6ICd2aXNpdG9yJywgbmFtZVpoOiAn6K6/5a6iJywgZW5hYmxlZDogdHJ1ZSwgcGVybXM6IG51bGwsIG1lbnVzOiBudWxsIH0sIHsgaWQ6IDksIG5hbWU6ICd0ZXN0JywgbmFtZVpoOiAn5rWL6K+V6KeS6ImyJywgZW5hYmxlZDogdHJ1ZSwgcGVybXM6IG51bGwsIG1lbnVzOiBudWxsIH1dIH0sIHsgaWQ6IDMsIHVzZXJuYW1lOiAnZWRpdG9yJywgbmFtZTogJ+e8lui+kScsIHBob25lOiBudWxsLCBlbWFpbDogbnVsbCwgZW5hYmxlZDogdHJ1ZSwgcm9sZXM6IFt7IGlkOiAyLCBuYW1lOiAnY29udGVudE1hbmFnZXInLCBuYW1lWmg6ICflhoXlrrnnrqHnkIblkZgnLCBlbmFibGVkOiB0cnVlLCBwZXJtczogbnVsbCwgbWVudXM6IG51bGwgfV0gfSwgeyBpZDogMTEwLCB1c2VybmFtZTogJzEyMycsIG5hbWU6ICcxMjMnLCBwaG9uZTogJzEyMycsIGVtYWlsOiAnMTIzQHFxLmNvbScsIGVuYWJsZWQ6IHRydWUsIHJvbGVzOiBbXSB9XSwNCiAgICAgIHJvbGVzOiBbeyBpZDogMSwgbmFtZTogJ3N5c0FkbWluJywgbmFtZVpoOiAn57O757uf566h55CG5ZGYJywgZW5hYmxlZDogdHJ1ZSwgcGVybXM6IFt7IGlkOiAxLCBuYW1lOiAndXNlcnNfbWFuYWdlbWVudCcsIGRlc2NfOiAn55So5oi3566h55CGJywgdXJsOiAnL2FwaS9hZG1pbi91c2VyJyB9LCB7IGlkOiAyLCBuYW1lOiAncm9sZXNfbWFuYWdlbWVudCcsIGRlc2NfOiAn6KeS6Imy566h55CGJywgdXJsOiAnL2FwaS9hZG1pbi9yb2xlJyB9LCB7IGlkOiAzLCBuYW1lOiAnY29udGVudF9tYW5hZ2VtZW50JywgZGVzY186ICflhoXlrrnnrqHnkIYnLCB1cmw6ICcvYXBpL2FkbWluL2NvbnRlbnQnIH1dLCBtZW51czogW3sgaWQ6IDEsIHBhdGg6ICcvYWRtaW4nLCBuYW1lOiAnQWRtaW5JbmRleCcsIG5hbWVaaDogJ+mmlumhtScsIGljb25DbHM6ICdlbC1pY29uLXMtaG9tZScsIGNvbXBvbmVudDogJ0FkbWluSW5kZXgnLCBwYXJlbnRJZDogMCwgY2hpbGRyZW46IFt7IGlkOiAyLCBwYXRoOiAnL2FkbWluL2Rhc2hib2FyZCcsIG5hbWU6ICdEYXNoYm9hcmRBZG1pbicsIG5hbWVaaDogJ+i/kOihjOaDheWGtScsIGljb25DbHM6IG51bGwsIGNvbXBvbmVudDogJ2Rhc2hib2FyZC9hZG1pbi9pbmRleCcsIHBhcmVudElkOiAxLCBjaGlsZHJlbjogW10gfV0gfSwgeyBpZDogMywgcGF0aDogJy9hZG1pbicsIG5hbWU6ICdVc2VyJywgbmFtZVpoOiAn55So5oi3566h55CGJywgaWNvbkNsczogJ2VsLWljb24tdXNlcicsIGNvbXBvbmVudDogJ0FkbWluSW5kZXgnLCBwYXJlbnRJZDogMCwgY2hpbGRyZW46IFt7IGlkOiA2LCBwYXRoOiAnL2FkbWluL3VzZXIvcHJvZmlsZScsIG5hbWU6ICdQcm9maWxlJywgbmFtZVpoOiAn55So5oi35L+h5oGvJywgaWNvbkNsczogbnVsbCwgY29tcG9uZW50OiAndXNlci9Vc2VyUHJvZmlsZScsIHBhcmVudElkOiAzLCBjaGlsZHJlbjogW10gfSwgeyBpZDogNywgcGF0aDogJy9hZG1pbi91c2VyL3JvbGUnLCBuYW1lOiAnUm9sZScsIG5hbWVaaDogJ+inkuiJsumFjee9ricsIGljb25DbHM6IG51bGwsIGNvbXBvbmVudDogJ3VzZXIvUm9sZScsIHBhcmVudElkOiAzLCBjaGlsZHJlbjogW10gfV0gfSwgeyBpZDogNCwgcGF0aDogJy9hZG1pbicsIG5hbWU6ICdDb250ZW50JywgbmFtZVpoOiAn5YaF5a65566h55CGJywgaWNvbkNsczogJ2VsLWljb24tdGlja2V0cycsIGNvbXBvbmVudDogJ0FkbWluSW5kZXgnLCBwYXJlbnRJZDogMCwgY2hpbGRyZW46IFt7IGlkOiA4LCBwYXRoOiAnL2FkbWluL2NvbnRlbnQvYm9vaycsIG5hbWU6ICdCb29rTWFuYWdlbWVudCcsIG5hbWVaaDogJ+WbvuS5pueuoeeQhicsIGljb25DbHM6IG51bGwsIGNvbXBvbmVudDogJ2NvbnRlbnQvQm9va01hbmFnZW1lbnQnLCBwYXJlbnRJZDogNCwgY2hpbGRyZW46IFtdIH0sIHsgaWQ6IDksIHBhdGg6ICcvYWRtaW4vY29udGVudC9iYW5uZXInLCBuYW1lOiAnQmFubmVyTWFuYWdlbWVudCcsIG5hbWVaaDogJ+W5v+WRiueuoeeQhicsIGljb25DbHM6IG51bGwsIGNvbXBvbmVudDogJ2NvbnRlbnQvQmFubmVyTWFuYWdlbWVudCcsIHBhcmVudElkOiA0LCBjaGlsZHJlbjogW10gfSwgeyBpZDogMTAsIHBhdGg6ICcvYWRtaW4vY29udGVudC9hcnRpY2xlJywgbmFtZTogJ0FydGljbGVNYW5hZ2VtZW50JywgbmFtZVpoOiAn5paH56ug566h55CGJywgaWNvbkNsczogbnVsbCwgY29tcG9uZW50OiAnY29udGVudC9BcnRpY2xlTWFuYWdlbWVudCcsIHBhcmVudElkOiA0LCBjaGlsZHJlbjogW10gfV0gfSwgeyBpZDogNSwgcGF0aDogJy9hZG1pbicsIG5hbWU6ICdTeXN0ZW0nLCBuYW1lWmg6ICfns7vnu5/phY3nva4nLCBpY29uQ2xzOiAnZWwtaWNvbi1zLXRvb2xzJywgY29tcG9uZW50OiAnQWRtaW5JbmRleCcsIHBhcmVudElkOiAwLCBjaGlsZHJlbjogW10gfV0gfSwgeyBpZDogMiwgbmFtZTogJ2NvbnRlbnRNYW5hZ2VyJywgbmFtZVpoOiAn5YaF5a65566h55CG5ZGYJywgZW5hYmxlZDogdHJ1ZSwgcGVybXM6IFt7IGlkOiAzLCBuYW1lOiAnY29udGVudF9tYW5hZ2VtZW50JywgZGVzY186ICflhoXlrrnnrqHnkIYnLCB1cmw6ICcvYXBpL2FkbWluL2NvbnRlbnQnIH1dLCBtZW51czogW3sgaWQ6IDEsIHBhdGg6ICcvYWRtaW4nLCBuYW1lOiAnQWRtaW5JbmRleCcsIG5hbWVaaDogJ+mmlumhtScsIGljb25DbHM6ICdlbC1pY29uLXMtaG9tZScsIGNvbXBvbmVudDogJ0FkbWluSW5kZXgnLCBwYXJlbnRJZDogMCwgY2hpbGRyZW46IFt7IGlkOiAyLCBwYXRoOiAnL2FkbWluL2Rhc2hib2FyZCcsIG5hbWU6ICdEYXNoYm9hcmRBZG1pbicsIG5hbWVaaDogJ+i/kOihjOaDheWGtScsIGljb25DbHM6IG51bGwsIGNvbXBvbmVudDogJ2Rhc2hib2FyZC9hZG1pbi9pbmRleCcsIHBhcmVudElkOiAxLCBjaGlsZHJlbjogW10gfV0gfSwgeyBpZDogNCwgcGF0aDogJy9hZG1pbicsIG5hbWU6ICdDb250ZW50JywgbmFtZVpoOiAn5YaF5a65566h55CGJywgaWNvbkNsczogJ2VsLWljb24tdGlja2V0cycsIGNvbXBvbmVudDogJ0FkbWluSW5kZXgnLCBwYXJlbnRJZDogMCwgY2hpbGRyZW46IFt7IGlkOiA4LCBwYXRoOiAnL2FkbWluL2NvbnRlbnQvYm9vaycsIG5hbWU6ICdCb29rTWFuYWdlbWVudCcsIG5hbWVaaDogJ+WbvuS5pueuoeeQhicsIGljb25DbHM6IG51bGwsIGNvbXBvbmVudDogJ2NvbnRlbnQvQm9va01hbmFnZW1lbnQnLCBwYXJlbnRJZDogNCwgY2hpbGRyZW46IFtdIH0sIHsgaWQ6IDksIHBhdGg6ICcvYWRtaW4vY29udGVudC9iYW5uZXInLCBuYW1lOiAnQmFubmVyTWFuYWdlbWVudCcsIG5hbWVaaDogJ+W5v+WRiueuoeeQhicsIGljb25DbHM6IG51bGwsIGNvbXBvbmVudDogJ2NvbnRlbnQvQmFubmVyTWFuYWdlbWVudCcsIHBhcmVudElkOiA0LCBjaGlsZHJlbjogW10gfSwgeyBpZDogMTAsIHBhdGg6ICcvYWRtaW4vY29udGVudC9hcnRpY2xlJywgbmFtZTogJ0FydGljbGVNYW5hZ2VtZW50JywgbmFtZVpoOiAn5paH56ug566h55CGJywgaWNvbkNsczogbnVsbCwgY29tcG9uZW50OiAnY29udGVudC9BcnRpY2xlTWFuYWdlbWVudCcsIHBhcmVudElkOiA0LCBjaGlsZHJlbjogW10gfV0gfV0gfSwgeyBpZDogMywgbmFtZTogJ3Zpc2l0b3InLCBuYW1lWmg6ICforr/lrqInLCBlbmFibGVkOiB0cnVlLCBwZXJtczogW10sIG1lbnVzOiBbeyBpZDogMSwgcGF0aDogJy9hZG1pbicsIG5hbWU6ICdBZG1pbkluZGV4JywgbmFtZVpoOiAn6aaW6aG1JywgaWNvbkNsczogJ2VsLWljb24tcy1ob21lJywgY29tcG9uZW50OiAnQWRtaW5JbmRleCcsIHBhcmVudElkOiAwLCBjaGlsZHJlbjogW3sgaWQ6IDIsIHBhdGg6ICcvYWRtaW4vZGFzaGJvYXJkJywgbmFtZTogJ0Rhc2hib2FyZEFkbWluJywgbmFtZVpoOiAn6L+Q6KGM5oOF5Ya1JywgaWNvbkNsczogbnVsbCwgY29tcG9uZW50OiAnZGFzaGJvYXJkL2FkbWluL2luZGV4JywgcGFyZW50SWQ6IDEsIGNoaWxkcmVuOiBbXSB9XSB9XSB9LCB7IGlkOiA5LCBuYW1lOiAndGVzdCcsIG5hbWVaaDogJ+a1i+ivleinkuiJsicsIGVuYWJsZWQ6IHRydWUsIHBlcm1zOiBbXSwgbWVudXM6IFt7IGlkOiAxLCBwYXRoOiAnL2FkbWluJywgbmFtZTogJ0FkbWluSW5kZXgnLCBuYW1lWmg6ICfpppbpobUnLCBpY29uQ2xzOiAnZWwtaWNvbi1zLWhvbWUnLCBjb21wb25lbnQ6ICdBZG1pbkluZGV4JywgcGFyZW50SWQ6IDAsIGNoaWxkcmVuOiBbeyBpZDogMiwgcGF0aDogJy9hZG1pbi9kYXNoYm9hcmQnLCBuYW1lOiAnRGFzaGJvYXJkQWRtaW4nLCBuYW1lWmg6ICfov5DooYzmg4XlhrUnLCBpY29uQ2xzOiBudWxsLCBjb21wb25lbnQ6ICdkYXNoYm9hcmQvYWRtaW4vaW5kZXgnLCBwYXJlbnRJZDogMSwgY2hpbGRyZW46IFtdIH1dIH1dIH1dLA0KICAgICAgdXNlcnM6IFtdLA0KICAgICAgLy8gcm9sZXM6IFtdLA0KICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLA0KICAgICAgc2VsZWN0ZWRVc2VyOiBbXSwNCiAgICAgIHNlbGVjdGVkUm9sZXNJZHM6IFtdDQogICAgfQ0KICB9LA0KICBtb3VudGVkICgpIHsNCiAgICB0aGlzLmxpc3RVc2VycygpDQogICAgLy8gdGhpcy5saXN0Um9sZXMoKQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIHRhYmxlSGVpZ2h0ICgpIHsNCiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQgLSAzMjANCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBsaXN0VXNlcnMgKCkgew0KICAgICAgbGV0IF90aGlzID0gdGhpcw0KICAgICAgdGhpcy4kYXhpb3MuZ2V0KCcvYWRtaW4vdXNlcicpLnRoZW4ocmVzcCA9PiB7DQogICAgICAgIGlmIChyZXNwICYmIHJlc3AuZGF0YS5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICBfdGhpcy51c2VycyA9IHJlc3AuZGF0YS5vYmplY3QNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhfdGhpcy51c2VycykNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGxpc3RSb2xlcyAoKSB7DQogICAgICB2YXIgX3RoaXMgPSB0aGlzDQogICAgICB0aGlzLiRheGlvcy5nZXQoJy9hZG1pbi9yb2xlJykudGhlbihyZXNwID0+IHsNCiAgICAgICAgaWYgKHJlc3AgJiYgcmVzcC5kYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgIF90aGlzLnJvbGVzID0gcmVzcC5kYXRhLnJlc3VsdA0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgY29tbWl0U3RhdHVzQ2hhbmdlICh2YWx1ZSwgdXNlcikgew0KICAgICAgaWYgKHVzZXIudXNlcm5hbWUgIT09ICdhZG1pbicpIHsNCiAgICAgICAgdGhpcy4kYXhpb3MucHV0KCcvYWRtaW4vdXNlci9zdGF0dXMnLCB7DQogICAgICAgICAgZW5hYmxlZDogdmFsdWUsDQogICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUNCiAgICAgICAgfSkudGhlbihyZXNwID0+IHsNCiAgICAgICAgICBpZiAocmVzcCAmJiByZXNwLmRhdGEuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICBpZiAodmFsdWUpIHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSgn55So5oi3IFsnICsgdXNlci51c2VybmFtZSArICddIOW3sua/gOa0uycpDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKCfnlKjmiLcgWycgKyB1c2VyLnVzZXJuYW1lICsgJ10g5bey5Ya757uTJykNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICB1c2VyLmVuYWJsZWQgPSB0cnVlDQogICAgICAgIHRoaXMuJGFsZXJ0KCfkuI3og73lhrvnu5PnrqHnkIblkZjotKbmiLfvvIEnKQ0KICAgICAgfQ0KICAgIH0sDQogICAgb25TdWJtaXQgKHVzZXIpIHsNCiAgICAgIGNvbnN0IF90aGlzID0gdGhpcw0KICAgICAgLy8g5qC55o2u6KeG5Zu+57uR5a6a55qE6KeS6ImyIGlkIOWQkeWQjuerr+S8oOmAgeinkuiJsuS/oeaBrw0KICAgICAgY29uc3Qgcm9sZXMgPSBbXQ0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfdGhpcy5zZWxlY3RlZFJvbGVzSWRzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgX3RoaXMucm9sZXMubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICBpZiAoX3RoaXMuc2VsZWN0ZWRSb2xlc0lkc1tpXSA9PT0gX3RoaXMucm9sZXNbal0uaWQpIHsNCiAgICAgICAgICAgIHJvbGVzLnB1c2goX3RoaXMucm9sZXNbal0pDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICB0aGlzLiRheGlvcy5wdXQoJy9hZG1pbi91c2VyJywgew0KICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSwNCiAgICAgICAgbmFtZTogdXNlci5uYW1lLA0KICAgICAgICBwaG9uZTogdXNlci5waG9uZSwNCiAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsDQogICAgICAgIHJvbGVzOiByb2xlcw0KICAgICAgfSkudGhlbihyZXNwID0+IHsNCiAgICAgICAgaWYgKHJlc3AgJiYgcmVzcC5kYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgIHRoaXMuJGFsZXJ0KCfnlKjmiLfkv6Hmga/kv67mlLnmiJDlip8nKQ0KICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZQ0KICAgICAgICAgIC8vIOS/ruaUueinkuiJsuWQjumHjeaWsOivt+axgueUqOaIt+S/oeaBr++8jOWunueOsOinhuWbvuabtOaWsA0KICAgICAgICAgIHRoaXMubGlzdFVzZXJzKCkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRhbGVydChyZXNwLmRhdGEubWVzc2FnZSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGVkaXRVc2VyICh1c2VyKSB7DQogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZQ0KICAgICAgdGhpcy5zZWxlY3RlZFVzZXIgPSB1c2VyDQogICAgICBjb25zdCByb2xlSWRzID0gW10NCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXNlci5yb2xlcy5sZW5ndGg7IGkrKykgew0KICAgICAgICByb2xlSWRzLnB1c2godXNlci5yb2xlc1tpXS5pZCkNCiAgICAgIH0NCiAgICAgIHRoaXMuc2VsZWN0ZWRSb2xlc0lkcyA9IHJvbGVJZHMNCiAgICB9LA0KICAgIHJlc2V0UGFzc3dvcmQgKHVzZXJuYW1lKSB7DQogICAgICB0aGlzLiRheGlvcy5wdXQoJy9hZG1pbi91c2VyL3Bhc3N3b3JkJywgew0KICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUNCiAgICAgIH0pLnRoZW4ocmVzcCA9PiB7DQogICAgICAgIGlmIChyZXNwICYmIHJlc3AuZGF0YS5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICB0aGlzLiRhbGVydCgn5a+G56CB5bey6YeN572u5Li6IDEyMycpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["UserManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserManage.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\r\n  <div>\r\n    <el-dialog\r\n      title=\"修改用户信息\"\r\n      :visible.sync=\"dialogFormVisible\">\r\n      <el-form v-model=\"selectedUser\" style=\"text-align: left\" ref=\"dataForm\">\r\n        <el-form-item label=\"用户名\" label-width=\"120px\" prop=\"username\">\r\n          <label>{{selectedUser.username}}</label>\r\n        </el-form-item>\r\n        <el-form-item label=\"真实姓名\" label-width=\"120px\" prop=\"name\">\r\n          <el-input v-model=\"selectedUser.name\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号\" label-width=\"120px\" prop=\"phone\">\r\n          <el-input v-model=\"selectedUser.phone\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" label-width=\"120px\" prop=\"email\">\r\n          <el-input v-model=\"selectedUser.email\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" label-width=\"120px\" prop=\"password\">\r\n          <el-button type=\"warning\" @click=\"resetPassword(selectedUser.username)\">重置密码</el-button>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色分配\" label-width=\"120px\" prop=\"roles\">\r\n          <el-checkbox-group v-model=\"selectedRolesIds\">\r\n            <el-checkbox v-for=\"(role,i) in roles\" :key=\"i\" :label=\"role.id\">{{role.nameZh}}</el-checkbox>\r\n          </el-checkbox-group>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"onSubmit(selectedUser)\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <bulk-registration @onSubmit=\"listUsers()\" />\r\n    <el-card style=\"margin: 18px 2%;width: 95%\">\r\n      <el-table\r\n        :data=\"users\"\r\n        stripe\r\n        :default-sort = \"{prop: 'id', order: 'ascending'}\"\r\n        style=\"width: 100%\"\r\n        :max-height=\"tableHeight\">\r\n        <el-table-column\r\n          type=\"selection\"\r\n          width=\"55\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"id\"\r\n          label=\"id\"\r\n          sortable\r\n          width=\"100\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"username\"\r\n          label=\"用户名\"\r\n          fit>\r\n        </el-table-column>\r\n<!--        <el-table-column-->\r\n<!--          prop=\"name\"-->\r\n<!--          label=\"真实姓名\"-->\r\n<!--          fit>-->\r\n<!--        </el-table-column>-->\r\n        <el-table-column\r\n          prop=\"phone\"\r\n          label=\"手机号\"\r\n          fit>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"email\"\r\n          label=\"邮箱\"\r\n          show-overflow-tooltip\r\n          fit>\r\n        </el-table-column>\r\n        <el-table-column\r\n          label=\"状态\"\r\n          sortable\r\n          width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-switch\r\n              v-model=\"scope.row.enabled\"\r\n              active-color=\"#13ce66\"\r\n              inactive-color=\"#ff4949\"\r\n              @change=\"(value) => commitStatusChange(value, scope.row)\">\r\n            </el-switch>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          label=\"操作\"\r\n          width=\"120\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              @click=\"editUser(scope.row)\"\r\n              type=\"text\"\r\n              size=\"small\">\r\n              编辑\r\n            </el-button>\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\">\r\n              移除\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div style=\"margin: 20px 0 20px 0;float: left\">\r\n        <el-button>取消选择</el-button>\r\n        <el-button>批量删除</el-button>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BulkRegistration from '@/components/admin/BulkRegistration'\r\nexport default {\r\n  name: 'UserManage',\r\n  components: { BulkRegistration },\r\n  data () {\r\n    return {\r\n      // users数据现在是静态的，等后端就绪后再替换\r\n      // users: [{ id: 1, username: 'admin', name: '管理员', phone: '12312312312', email: '1162524575@qq.com', enabled: true, roles: [{ id: 1, name: 'sysAdmin', nameZh: '系统管理员', enabled: true, perms: null, menus: null }] }, { id: 2, username: 'test', name: '测试', phone: '12312312312', email: '123@123.com', enabled: true, roles: [{ id: 3, name: 'visitor', nameZh: '访客', enabled: true, perms: null, menus: null }, { id: 9, name: 'test', nameZh: '测试角色', enabled: true, perms: null, menus: null }] }, { id: 3, username: 'editor', name: '编辑', phone: null, email: null, enabled: true, roles: [{ id: 2, name: 'contentManager', nameZh: '内容管理员', enabled: true, perms: null, menus: null }] }, { id: 110, username: '123', name: '123', phone: '123', email: '123@qq.com', enabled: true, roles: [] }],\r\n      roles: [{ id: 1, name: 'sysAdmin', nameZh: '系统管理员', enabled: true, perms: [{ id: 1, name: 'users_management', desc_: '用户管理', url: '/api/admin/user' }, { id: 2, name: 'roles_management', desc_: '角色管理', url: '/api/admin/role' }, { id: 3, name: 'content_management', desc_: '内容管理', url: '/api/admin/content' }], menus: [{ id: 1, path: '/admin', name: 'AdminIndex', nameZh: '首页', iconCls: 'el-icon-s-home', component: 'AdminIndex', parentId: 0, children: [{ id: 2, path: '/admin/dashboard', name: 'DashboardAdmin', nameZh: '运行情况', iconCls: null, component: 'dashboard/admin/index', parentId: 1, children: [] }] }, { id: 3, path: '/admin', name: 'User', nameZh: '用户管理', iconCls: 'el-icon-user', component: 'AdminIndex', parentId: 0, children: [{ id: 6, path: '/admin/user/profile', name: 'Profile', nameZh: '用户信息', iconCls: null, component: 'user/UserProfile', parentId: 3, children: [] }, { id: 7, path: '/admin/user/role', name: 'Role', nameZh: '角色配置', iconCls: null, component: 'user/Role', parentId: 3, children: [] }] }, { id: 4, path: '/admin', name: 'Content', nameZh: '内容管理', iconCls: 'el-icon-tickets', component: 'AdminIndex', parentId: 0, children: [{ id: 8, path: '/admin/content/book', name: 'BookManagement', nameZh: '图书管理', iconCls: null, component: 'content/BookManagement', parentId: 4, children: [] }, { id: 9, path: '/admin/content/banner', name: 'BannerManagement', nameZh: '广告管理', iconCls: null, component: 'content/BannerManagement', parentId: 4, children: [] }, { id: 10, path: '/admin/content/article', name: 'ArticleManagement', nameZh: '文章管理', iconCls: null, component: 'content/ArticleManagement', parentId: 4, children: [] }] }, { id: 5, path: '/admin', name: 'System', nameZh: '系统配置', iconCls: 'el-icon-s-tools', component: 'AdminIndex', parentId: 0, children: [] }] }, { id: 2, name: 'contentManager', nameZh: '内容管理员', enabled: true, perms: [{ id: 3, name: 'content_management', desc_: '内容管理', url: '/api/admin/content' }], menus: [{ id: 1, path: '/admin', name: 'AdminIndex', nameZh: '首页', iconCls: 'el-icon-s-home', component: 'AdminIndex', parentId: 0, children: [{ id: 2, path: '/admin/dashboard', name: 'DashboardAdmin', nameZh: '运行情况', iconCls: null, component: 'dashboard/admin/index', parentId: 1, children: [] }] }, { id: 4, path: '/admin', name: 'Content', nameZh: '内容管理', iconCls: 'el-icon-tickets', component: 'AdminIndex', parentId: 0, children: [{ id: 8, path: '/admin/content/book', name: 'BookManagement', nameZh: '图书管理', iconCls: null, component: 'content/BookManagement', parentId: 4, children: [] }, { id: 9, path: '/admin/content/banner', name: 'BannerManagement', nameZh: '广告管理', iconCls: null, component: 'content/BannerManagement', parentId: 4, children: [] }, { id: 10, path: '/admin/content/article', name: 'ArticleManagement', nameZh: '文章管理', iconCls: null, component: 'content/ArticleManagement', parentId: 4, children: [] }] }] }, { id: 3, name: 'visitor', nameZh: '访客', enabled: true, perms: [], menus: [{ id: 1, path: '/admin', name: 'AdminIndex', nameZh: '首页', iconCls: 'el-icon-s-home', component: 'AdminIndex', parentId: 0, children: [{ id: 2, path: '/admin/dashboard', name: 'DashboardAdmin', nameZh: '运行情况', iconCls: null, component: 'dashboard/admin/index', parentId: 1, children: [] }] }] }, { id: 9, name: 'test', nameZh: '测试角色', enabled: true, perms: [], menus: [{ id: 1, path: '/admin', name: 'AdminIndex', nameZh: '首页', iconCls: 'el-icon-s-home', component: 'AdminIndex', parentId: 0, children: [{ id: 2, path: '/admin/dashboard', name: 'DashboardAdmin', nameZh: '运行情况', iconCls: null, component: 'dashboard/admin/index', parentId: 1, children: [] }] }] }],\r\n      users: [],\r\n      // roles: [],\r\n      dialogFormVisible: false,\r\n      selectedUser: [],\r\n      selectedRolesIds: []\r\n    }\r\n  },\r\n  mounted () {\r\n    this.listUsers()\r\n    // this.listRoles()\r\n  },\r\n  computed: {\r\n    tableHeight () {\r\n      return window.innerHeight - 320\r\n    }\r\n  },\r\n  methods: {\r\n    listUsers () {\r\n      let _this = this\r\n      this.$axios.get('/admin/user').then(resp => {\r\n        if (resp && resp.data.code === 200) {\r\n          _this.users = resp.data.object\r\n          // console.log(_this.users)\r\n        }\r\n      })\r\n    },\r\n    listRoles () {\r\n      var _this = this\r\n      this.$axios.get('/admin/role').then(resp => {\r\n        if (resp && resp.data.code === 200) {\r\n          _this.roles = resp.data.result\r\n        }\r\n      })\r\n    },\r\n    commitStatusChange (value, user) {\r\n      if (user.username !== 'admin') {\r\n        this.$axios.put('/admin/user/status', {\r\n          enabled: value,\r\n          username: user.username\r\n        }).then(resp => {\r\n          if (resp && resp.data.code === 200) {\r\n            if (value) {\r\n              this.$message('用户 [' + user.username + '] 已激活')\r\n            } else {\r\n              this.$message('用户 [' + user.username + '] 已冻结')\r\n            }\r\n          }\r\n        })\r\n      } else {\r\n        user.enabled = true\r\n        this.$alert('不能冻结管理员账户！')\r\n      }\r\n    },\r\n    onSubmit (user) {\r\n      const _this = this\r\n      // 根据视图绑定的角色 id 向后端传送角色信息\r\n      const roles = []\r\n      for (let i = 0; i < _this.selectedRolesIds.length; i++) {\r\n        for (let j = 0; j < _this.roles.length; j++) {\r\n          if (_this.selectedRolesIds[i] === _this.roles[j].id) {\r\n            roles.push(_this.roles[j])\r\n          }\r\n        }\r\n      }\r\n      this.$axios.put('/admin/user', {\r\n        username: user.username,\r\n        name: user.name,\r\n        phone: user.phone,\r\n        email: user.email,\r\n        roles: roles\r\n      }).then(resp => {\r\n        if (resp && resp.data.code === 200) {\r\n          this.$alert('用户信息修改成功')\r\n          this.dialogFormVisible = false\r\n          // 修改角色后重新请求用户信息，实现视图更新\r\n          this.listUsers()\r\n        } else {\r\n          this.$alert(resp.data.message)\r\n        }\r\n      })\r\n    },\r\n    editUser (user) {\r\n      this.dialogFormVisible = true\r\n      this.selectedUser = user\r\n      const roleIds = []\r\n      for (let i = 0; i < user.roles.length; i++) {\r\n        roleIds.push(user.roles[i].id)\r\n      }\r\n      this.selectedRolesIds = roleIds\r\n    },\r\n    resetPassword (username) {\r\n      this.$axios.put('/admin/user/password', {\r\n        username: username\r\n      }).then(resp => {\r\n        if (resp && resp.data.code === 200) {\r\n          this.$alert('密码已重置为 123')\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}