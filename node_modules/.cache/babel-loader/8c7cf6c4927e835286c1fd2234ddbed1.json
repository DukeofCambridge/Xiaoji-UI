{"remainingRequest":"D:\\Albion Tech\\LabSys\\Experiment-Teaching-System\\Frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Albion Tech\\LabSys\\Experiment-Teaching-System\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Albion Tech\\LabSys\\Experiment-Teaching-System\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Albion Tech\\LabSys\\Experiment-Teaching-System\\Frontend\\src\\components\\admin\\CourseManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Albion Tech\\LabSys\\Experiment-Teaching-System\\Frontend\\src\\components\\admin\\CourseManage.vue","mtime":1639552881129},{"path":"D:\\Albion Tech\\LabSys\\Experiment-Teaching-System\\Frontend\\babel.config.js","mtime":1637134645489},{"path":"D:\\Albion Tech\\LabSys\\Experiment-Teaching-System\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Albion Tech\\LabSys\\Experiment-Teaching-System\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Albion Tech\\LabSys\\Experiment-Teaching-System\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Albion Tech\\LabSys\\Experiment-Teaching-System\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENyZWF0ZUNvdXJzZSBmcm9tICJAL2NvbXBvbmVudHMvYWRtaW4vQ3JlYXRlQ291cnNlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDb3Vyc2VNYW5hZ2UiLAogIGNvbXBvbmVudHM6IHsKICAgIENyZWF0ZUNvdXJzZTogQ3JlYXRlQ291cnNlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY291cnNlczogW10sCiAgICAgIHRvdGFsOiAwLAogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIHNlbGVjdGVkVXNlcjogW10sCiAgICAgIHNlbGVjdGVkUm9sZXNJZHM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRhYmxlSGVpZ2h0OiBmdW5jdGlvbiB0YWJsZUhlaWdodCgpIHsKICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodCAtIDMyMDsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldENvdXJzZXMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldENvdXJzZXM6IGZ1bmN0aW9uIGdldENvdXJzZXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRheGlvcy5nZXQoJy9jb3Vyc2VzL2FsbCcpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBpZiAocmVzcCAmJiByZXNwLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpcy5jb3Vyc2VzID0gcmVzcC5kYXRhLm9iamVjdDsKICAgICAgICAgIF90aGlzLnRvdGFsID0gX3RoaXMuY291cnNlcy5sZW5ndGg7CiAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5jb3Vyc2VzKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGVkaXRVc2VyOiBmdW5jdGlvbiBlZGl0VXNlcih1c2VyKSB7CiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnNlbGVjdGVkVXNlciA9IHVzZXI7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZW50ZXJDb3Vyc2UnLCB1c2VyLmNvdXJzZU5hbWUpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2FkbWluaW5kZXgvY291cnNlLycgKyB1c2VyLmlkKTsgLy8gY29uc3Qgcm9sZUlkcyA9IFtdCiAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdXNlci5yb2xlcy5sZW5ndGg7IGkrKykgewogICAgICAvLyAgIHJvbGVJZHMucHVzaCh1c2VyLnJvbGVzW2ldLmlkKQogICAgICAvLyB9CiAgICAgIC8vIHRoaXMuc2VsZWN0ZWRSb2xlc0lkcyA9IHJvbGVJZHMKICAgIH0sCiAgICBkZWxldGVVc2VyOiBmdW5jdGlvbiBkZWxldGVVc2VyKHVzZXIpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgn56Gu5a6a6KaB5YWz6Zet6K+l6K++56iL5ZCX77yf5q2k5pON5L2c5LiN5Y+v6YCGJywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kYXhpb3MucG9zdCgnL2NvdXJzZXMvZGVsZXRlY291cnNlP2NvdXJzZUlkPScgKyB1c2VyLmlkKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICBpZiAocmVzcCAmJiByZXNwLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIF90aGlzMi4kYWxlcnQoJ+ivvueoiyBbJyArIHVzZXIuY291cnNlTmFtZSArICddIOW3suWFs+mXre+8gScpOyAvLyDkv67mlLnop5LoibLlkI7ph43mlrDor7fmsYLnlKjmiLfkv6Hmga/vvIzlrp7njrDop4blm77mm7TmlrAKCgogICAgICAgICAgICBfdGhpczIuZ2V0Q291cnNlcygpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMyLiRhbGVydChyZXNwLmRhdGEubXNnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["CourseManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA,OAAA,YAAA,MAAA,iCAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,YAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA,CAFA;AAIA,MAAA,iBAAA,EAAA,KAJA;AAKA,MAAA,YAAA,EAAA,EALA;AAMA,MAAA,gBAAA,EAAA;AANA,KAAA;AAQA,GAZA;AAaA,EAAA,QAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,aAAA,MAAA,CAAA,WAAA,GAAA,GAAA;AACA;AAHA,GAbA;AAkBA,EAAA,OAlBA,qBAkBA;AACA,SAAA,UAAA;AACA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,WAAA,MAAA,CAAA,GAAA,CAAA,cAAA,EAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,IAAA,IAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,IAAA,CAAA,IAAA,CAAA,MAAA;AACA,UAAA,KAAA,CAAA,KAAA,GAAA,KAAA,CAAA,OAAA,CAAA,MAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AACA;AACA,OANA;AAOA,KAVA;AAWA,IAAA,QAXA,oBAWA,IAXA,EAWA;AACA,WAAA,iBAAA,GAAA,IAAA;AACA,WAAA,YAAA,GAAA,IAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,aAAA,EAAA,IAAA,CAAA,UAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,wBAAA,IAAA,CAAA,EAAA,EAJA,CAKA;AACA;AACA;AACA;AACA;AACA,KArBA;AAsBA,IAAA,UAtBA,sBAsBA,IAtBA,EAsBA;AAAA;;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,WAAA,QAAA,CAAA,kBAAA,EAAA,IAAA,EAAA;AACA,QAAA,iBAAA,EAAA,IADA;AAEA,QAAA,gBAAA,EAAA,IAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OAAA,EAIA,IAJA,CAIA,YAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CAAA,oCAAA,IAAA,CAAA,EAAA,EAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,cAAA,IAAA,IAAA,IAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,YAAA,MAAA,CAAA,MAAA,CAAA,SAAA,IAAA,CAAA,UAAA,GAAA,QAAA,EADA,CAEA;;;AACA,YAAA,MAAA,CAAA,UAAA;AACA,WAJA,MAIA;AACA,YAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA;AACA;AACA,SARA;AASA,OAdA;AAeA;AAvCA;AArBA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <el-card style=\"margin: 18px 2%;width: 95%\">\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"15\">\r\n          <create-course @onSubmit=\"getCourses()\"></create-course>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-input placeholder=\"请输入内容\" >\r\n            <el-button slot=\"append\" icon=\"el-icon-search\" ></el-button>\r\n          </el-input>\r\n        </el-col>\r\n        <!-- <el-col :span=\"4\">\r\n          <el-button type=\"primary\" @click=\"addOrderVisible = true\">添加订单</el-button>\r\n        </el-col> -->\r\n      </el-row>\r\n      <br/>\r\n\r\n      <el-table :data=\"courses\" stripe :min-height=\"tableHeight\">\r\n        <el-table-column\r\n          type=\"selection\"\r\n          width=\"55\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          type=\"index\"\r\n          label=\"序号\"\r\n          sortable\r\n          width=\"100\">\r\n        </el-table-column>\r\n        <el-table-column label=\"课程编号\" prop=\"id\" fit></el-table-column>\r\n        <el-table-column label=\"课程名称\" prop=\"courseName\" fit></el-table-column>\r\n        <el-table-column\r\n          label=\"操作\"\r\n          width=\"120\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              @click=\"editUser(scope.row)\"\r\n              type=\"text\"\r\n              size=\"small\">\r\n              编辑\r\n            </el-button>\r\n            <el-button\r\n              @click=\"deleteUser(scope.row)\"\r\n              type=\"text\"\r\n              size=\"small\">\r\n              关闭\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <span class=\"divcss5\">总条数: {{total}}</span>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CreateCourse from \"@/components/admin/CreateCourse\";\r\nexport default {\r\n  name: \"CourseManage\",\r\n  components: {CreateCourse},\r\n  data () {\r\n    return {\r\n      courses: [],\r\n      total: 0,\r\n\r\n      dialogFormVisible: false,\r\n      selectedUser: [],\r\n      selectedRolesIds: []\r\n    }\r\n  },\r\n  computed: {\r\n    tableHeight () {\r\n      return window.innerHeight - 320\r\n    }\r\n  },\r\n  created() {\r\n    this.getCourses()\r\n  },\r\n  methods: {\r\n    getCourses () {\r\n      let _this = this\r\n      this.$axios.get('/courses/all').then(resp => {\r\n        if (resp && resp.data.code === 200) {\r\n          _this.courses = resp.data.object\r\n          _this.total = _this.courses.length\r\n          console.log(_this.courses)\r\n        }\r\n      })\r\n    },\r\n    editUser (user) {\r\n      this.dialogFormVisible = true\r\n      this.selectedUser = user\r\n      this.$store.commit('enterCourse',user.courseName)\r\n      this.$router.push('/adminindex/course/'+user.id)\r\n      // const roleIds = []\r\n      // for (let i = 0; i < user.roles.length; i++) {\r\n      //   roleIds.push(user.roles[i].id)\r\n      // }\r\n      // this.selectedRolesIds = roleIds\r\n    },\r\n    deleteUser(user){\r\n      const _this = this\r\n      this.$confirm('确定要关闭该课程吗？此操作不可逆','提示',{\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(()=>{\r\n        this.$axios.post('/courses/deletecourse?courseId='+user.id).then(resp => {\r\n          if (resp && resp.data.code === 200) {\r\n            this.$alert('课程 [' + user.courseName + '] 已关闭！')\r\n            // 修改角色后重新请求用户信息，实现视图更新\r\n            this.getCourses()\r\n          } else {\r\n            this.$alert(resp.data.msg)\r\n          }\r\n        })\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/components/admin"}]}